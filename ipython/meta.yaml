{% import '$CONDA_DEFAULT_ENV/toolset-info/config.yaml' as toolset %}

package:
  name: ipython
  version: "0.13.1{{toolset.suffix}}"
# ipython 4 notebook fails to start the kernel
#  version: 4.0.0

source:
  fn:  ipython-0.13.1.tar.gz
  url: http://pypi.python.org/packages/source/i/ipython/ipython-0.13.1.tar.gz
  md5: ca7e75f7c802afc6aaa0a1ea59846420
#  fn:  ipython-4.0.0.tar.gz
#  url: https://pypi.python.org/packages/source/i/ipython/ipython-4.0.0.tar.gz
#  md5: c2fecbcf1c0fbdc82625c77a50733dd6

build:
  track_features:
    - {{toolset.short}}
  features:
    - {{toolset.short}}

requirements:
  build:
    - {{toolset.build_requirement}}
    - python 2.7.*{{toolset.suffix}}
    - pip
    - setuptools
    - pyreadline                     # [win]
    - pygments
    # FIXME: ipython 0.13.1 notebook works, but issues the warning:
    #        RuntimeWarning: libzmq 4 detected.
    #        It is unlikely that IPython's zmq code will work properly.
    #        Please install libzmq stable, which is 2.1.x or 2.2.x
    - pyzmq     *{{toolset.suffix}}
    - tornado   *{{toolset.suffix}}
    # needed for ipython 4.0:
    # - certifi
    # - traitlets
    # - ssl_match_hostname
    # - pickleshare
    # - simplegeneric
    # - notebook

  run:
    - {{toolset.run_requirement}}
    - python 2.7.*{{toolset.suffix}}
    - pip
    - setuptools
    - pyreadline                     # [win]
    - pygments
    - pyzmq     *{{toolset.suffix}}
    - tornado   *{{toolset.suffix}}
    # - certifi
    # - traitlets
    # - ssl_match_hostname
    # - pickleshare
    # - simplegeneric
    # - notebook

about:
  home: http://ipython.org/
  license: BSD
  summary: a rich architecture for interactive computing

